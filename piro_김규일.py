import random
import time

class Character:
    # Charactor ìƒì„±ì
    def __init__(self, name, hair, clothes, shoes):
        self.name = name
        self.hair = hair
        self.clothes = clothes
        self.shoes = shoes

class DetectiveGame:
    
    #ìƒì„±ì
    def __init__(self):
        self.characters_sample = [
            Character("ìµœìŠ¹í˜¸", "ì¥ë°œì´ì•¼", "ìš´ë™ë³µì„ ì…ì—ˆì–´", "ë‚˜ì´í‚¤ë¥¼ ì‹ ì—ˆì–´"),
            Character("ê¹€ë¯¼ìˆ˜", "íŒŒë€ ëª¨ìë¥¼ ì¼ì–´", "ì–‘ë³µì„ ì…ì—ˆì–´", "êµ¬ë‘ë¥¼ ì‹ ì—ˆì–´"),
            Character("ì´ê±´í¬", "íŒŒë§ˆë¥¼ í–ˆì–´", "ë¬´ìŠ¤íƒ•ì„ ì…ì—ˆì–´", "ì•„ë¬´ê²ƒë„ ì•ˆ ì‹ ê³  ìˆì—ˆì–´"),
            Character("ì†ê´€ìš°", "ìŠ¤ë‹˜ ë¨¸ë¦¬ì•¼", "ì…”ì¸ ë¥¼ ì…ì—ˆì–´", "ìŠ¬ë¦¬í¼ ì‹ ì—ˆì–´"),
            Character("ì¥ì§€ìš”", "ë‹¨ë°œë¨¸ë¦¬ì•¼", "ì¹˜ë§ˆë¥¼ ì…ì—ˆì–´", "ë¶€ì¸ ë¥¼ ì‹ ì—ˆì–´"),
            Character("ì•ˆì‹œí™˜", "íˆ¬ë¸”ëŸ­ì„ í–ˆì–´", "ë°˜íŒ”í‹°ë¥¼ ì…ì—ˆì–´", "í¬ë¡ìŠ¤ë¥¼ ì‹ ì—ˆì–´"),
            Character("ì´ì§€í˜„", "í—ˆë¦¬ê¹Œì§€ ë¨¸ë¦¬ì¹´ë½ì´ ìˆì–´", "ì›í”¼ìŠ¤ë¥¼ ì…ì—ˆì–´", "íì„ ì‹ ì—ˆì–´")
        ]

    #ì¸íŠ¸ë¡œ ì¶œë ¥, ê²Œì„ ì„¸íŒ…
    def show_intro(self):
        print("íƒì • ê²Œì„ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤.")
        time.sleep(1)
        print("íƒì •ë‹˜ì˜ ì„±í•¨ì„ ì…ë ¥í•´ì£¼ì„¸ìš”: ", end = '')
        self.set_game()
        print(f"\n{self.detective_name}íƒì •ë‹˜ ì–´ì„œ ì˜¤ì‹­ì‹œì˜¤. í”¼ë¡œê·¸ë˜ë° 22ê¸°ì˜ í•´ì»¤í†¤ì„ ì¦ê²¨ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.\n")

        #ë‹¤ì‰ ë©”ì‹œì§€ ìƒì„±, ë‹¨ì„œ ì €ì¥
        dying_message_type = random.choice(["hair", "clothes", "shoes"])
        if dying_message_type == "hair":
            self.dying_message = f"ë¨¸ë¦¬ìŠ¤íƒ€ì¼ì€ {self.murderer.hair} ìœ½..â˜ ï¸"
            self.clue = self.murderer.hair
        elif dying_message_type == "clothes":
            self.dying_message = f"ì˜·ì€ {self.murderer.clothes} ìœ½..â˜ ï¸"
            self.clue = self.murderer.clothes
        else:
            self.dying_message = f"ì‹ ë°œì€ {self.murderer.shoes} ìœ½..â˜ ï¸"
            self.clue = self.murderer.shoes

        print(f"########################################")
        print(f"#######        í‰í™”ë¡œìš´ í•´ì»¤í†¤              ")
        print(f"########################################")
        time.sleep(1.5)


        print(f"\nì½”ë”©ì— ëª°ë‘í•˜ë˜ {self.detective_name}, ëˆˆì´ í”¼ë¡œí•´ì§€ê¸° ì‹œì‘í•œë‹¤. í•´ì»¤í†¤ì˜ ì—´ê¸°ê°€ ê³ ì¡°ë ìˆ˜ë¡, ì •ì‹ ì€ ì ì  íë¦¿í•´ì§„ë‹¤.")
        time.sleep(1)
        print(f"{self.detective_name}: ì´ í•´ì»¤í†¤, ë„ˆë¬´ í‰í™”ë¡­ê¸°ë§Œ í•˜êµ°... ë­”ê°€ ì¬ë°ŒëŠ” ì‚¬ê±´ì´ë¼ë„ í„°ì ¸ì•¼ í•  í…ë°. ë­, ì½”ë“œê°€ ëª½ë•… ë‚ ì•„ê°€ëŠ” ì¼ì´ë¼ë“ ì§€.")
        time.sleep(1)
        print(f"{self.victim.name}: í•˜í•˜, íƒì •ë‹˜! ê·¸ëŸ° ë¬´ì„œìš´ ë§ì”€ì€ ì œë°œ ê·¸ë§Œí•˜ì„¸ìš”. ìƒìƒë§Œ í•´ë„ ì•„ì°”í•˜ë„¤ìš”... ê·¸ëŸ° ì¼ì€ ì ˆëŒ€ë¡œ ì¼ì–´ë‚˜ì§€ ì•Šì„ ê±°ì˜ˆìš”.")
        time.sleep(1)
        print(f"{self.detective_name}: ë­, ê·¸ë ‡ê¸´ í•˜ê² ì§€. ì•„, ì°¸ê³ ë¡œ ë‚˜ëŠ” ëª…íƒì • {self.detective_name}! ì‚¬ê±´ì´ í„°ì§€ë©´ ì–¸ì œë“  ë‚˜ë¥¼ ì°¾ì•„.")
        time.sleep(1)
        print(f"{self.victim.name}: í•˜í•˜, ëª…íƒì •ë‹˜! ì•Œê² ìŠµë‹ˆë‹¤. ê·¸ëŸ°ë° ìš”ì¦˜ ì œ ë…¸íŠ¸ë¶ì„ ìê¾¸ ëˆ„ê°€ í›”ì³ë³´ëŠ” ê²ƒ ê°™ì•„ì„œ ì‹ ê²½ ì“°ì´ê¸´ í•´ìš”. ì§‘ ì• ì¹´í˜ì—ì„œ ì½”ë”©í•˜ë‹¤ ë³´ë©´ ë§ì´ì£ ...")
        time.sleep(1)
        print(f"ê·¸ë ‡ê²Œ ë‘˜ì€ í—¤ì–´ì¡Œê³ , ê·¸ë¡œë¶€í„° 10ë¶„ í›„ ê°‘ìê¸° ì •ì „ì´ ì¼ì–´ë‚˜ê²Œ ë˜ëŠ”ë°..\n")
        time.sleep(1)

        print(f"########################################")
        print(f"#######        ì‚¬ê±´ ë°œìƒ             ")
        print(f"########################################")
        time.sleep(1)

        print(f"ê°‘ìê¸° ë‚ ì¹´ë¡œìš´ ë¹„ëª… ì†Œë¦¬ê°€ ìš¸ë ¤ í¼ì¡Œë‹¤. {self.victim.name}ì”¨ì˜ ë…¸íŠ¸ë¶ í™”ë©´ì´ ìˆœì‹ê°„ì— ë¸”ë£¨ìŠ¤í¬ë¦°ìœ¼ë¡œ ë°”ë€Œì—ˆë‹¤.")
        time.sleep(1)
        print(f"ê·¸ ì¶©ê²©ì— {self.victim.name}ì”¨ëŠ” ì •ì‹ ì„ ìƒê³  ê·¸ëŒ€ë¡œ ì“°ëŸ¬ì¡Œë‹¤...")
        time.sleep(1)

        print(f"\ní˜„ì¥ì€ ìˆœì‹ê°„ì— í˜¼ë€ì— ë¹ ì¡Œê³ , ë°”ë‹¥ì—ëŠ” {self.victim.name}ì”¨ì˜ ë©”ì‹œì§€ê°€ ë‚¨ê²¨ì ¸ ìˆì—ˆë‹¤.")
        time.sleep(1)

        print("\n================ì‚¬ë§í•˜ì§€ëŠ” ì•Šì•˜ì§€ë§Œ ì´ê²Œ ë‹¤ì‰ë©”ì‹œì§€?!================")
        print(f"                    \"{self.dying_message}\"")
        print("=====================================================================")
        time.sleep(1)

        print(f"\në¬¸ì œì˜ ë…¸íŠ¸ë¶ ì£¼ìœ„ì— ìˆëŠ” ì‚¬ëŒì€ {len(self.characters)}ëª…ì…ë‹ˆë‹¤.") # ë°°ì—´ì˜ ê¸¸ì´ëŠ” len()ì„ ì‚¬ìš©í•˜ë©´ ì–»ì„ ìˆ˜ ìˆë‹¤.
        time.sleep(1)
        print(f"ê·¸ì¤‘, ë²”ì¸ì€ ë°”ë¡œ ì´ ìë¦¬ì— ìˆì„ ê²ƒì…ë‹ˆë‹¤...")
        time.sleep(1)
        print(f"{self.detective_name}ë‹˜ì˜ ì„ë¬´ëŠ” ë²”ì¸ì„ ì°¾ì•„ë‚´ëŠ” ê²ƒì…ë‹ˆë‹¤. ì§„ì‹¤ì„ ë°í˜€ë‚´ì„¸ìš”. ê¸°íšŒëŠ” 2ë²ˆì…ë‹ˆë‹¤.\n")
        time.sleep(1)

        print(f"########################################")
        print(f"#######        ì¶”ë¦¬ ì‹œì‘               ")
        print(f"########################################")
        time.sleep(1)
    
    # ìš©ì˜ì ì¡°ì‚¬
    def investigate(self):
        print("ìš©ì˜ìì™€ ëŒ€í™”ë¥¼ ë‚˜ëˆ„ê³  ì¸ìƒì°©ì˜ë¥¼ ìˆ˜ì§‘í•˜ì„¸ìš”...\n")
        for index, char in enumerate(self.characters, 1): # ìš©ì˜ì ì¶œë ¥
            print(f"{index}. {char.name}")
        
        # ì´ë¦„ ì…ë ¥ì´ ì˜ëª»ë˜ë©´ ë©”ì‹œì§€ ì¶œë ¥ í›„ ë°˜ë³µ
        while True:
            print("\nëˆ„êµ¬ë¥¼ ì¡°ì‚¬í•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”: ", end="")
            choice_name = input().strip()
            self.suspect = next((char for char in self.characters if char.name == choice_name), None) # nextë¥¼ ì‚¬ìš©í•œ array ìˆœíšŒ ë¦¬ìŠ¤íŠ¸ì— ì—†ìœ¼ë©´ None ë°˜í™˜
            if self.suspect:
                self.Explain_Suspect(self.suspect)
                break
            else:
                print("ì˜ëª»ëœ ì…ë ¥ì…ë‹ˆë‹¤! ì‹œê°„ì´ ì–¼ë§ˆ ë‚¨ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤, ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”!")
                print("ë²”ì¸ì€ ì•„ì§ë„ ìš°ë¦¬ ê³ì— ìˆì–´ìš”. ì„œë‘˜ëŸ¬ ì§„ì‹¤ì„ ë°í˜€ë‚´ì•¼ í•©ë‹ˆë‹¤!")

    # ìš©ì˜ì ì„¤ëª…
    def Explain_Suspect(self, character): 
        print(f"\n{character.name}ì˜ ì¸ìƒì°©ì˜ë¥¼ ë´…ë‹ˆë‹¤.")
        print(f"ë¨¸ë¦¬: {character.hair}")
        print(f"ì˜·: {character.clothes}")
        print(f"ì‹ ë°œ: {character.shoes}")

    # ë²”ì¸ì´ ë§ëŠ”ì§€ í™•ì¸
    def match_clue(self, suspect):
        if self.clue == suspect.hair or self.clue == suspect.clothes or \
                self.clue == suspect.shoes:
            return True
        return False

    # ì„ íƒ ë©”ì„œë“œ
    def prompt_choice(self, prompt):
        while True:
            choice = input(prompt).strip()
            if choice in ['ë„¤', 'ì•„ë‹ˆì˜¤']:
                return choice
            print("ì˜ëª»ëœ ì…ë ¥ì…ë‹ˆë‹¤. ë„¤ ë˜ëŠ” ì•„ë‹ˆì˜¤ë§Œ ì…ë ¥í•´ ì£¼ì„¸ìš”.")


    # ë²”ì¸ ì§€ëª©
    def accuse(self):
        print("\në²”ì¸ì„ ì§€ëª©í•  ì‹œê°„ì…ë‹ˆë‹¤.")

        while True: # ìš©ì˜ì ì¶œë ¥
            for index, char in enumerate(self.characters, 1):
                print(f"{index}. {char.name}")
            
            print("\nëˆ„êµ¬ë¥¼ ë²”ì¸ìœ¼ë¡œ ì§€ëª©í•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”: ", end="")
            choice_name = input().strip()
            print(f"{self.detective_name}: ë²”ì¸ì€ ë°”ë¡œ {choice_name}ì”¨ì•¼")
            self.suspect = next((char for char in self.characters if char.name == choice_name), None) # ì…ë ¥ì´ ìœ íš¨í•œì§€ í™•ì¸

            if self.suspect:
                self.check_outcome() #ê²°ê³¼ ë©”ì„œë“œ í˜¸ì¶œ
                return
            else:
                print("íƒì •ë‹˜, ê·¸ê±´ ì˜ëª»ëœ ì„ íƒì…ë‹ˆë‹¤! ì‹œê°„ì´ ì–¼ë§ˆ ë‚¨ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤, ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”!")
                print("ë²”ì¸ì€ ì•„ì§ë„ ìš°ë¦¬ ê³ì— ìˆì–´ìš”. ì„œë‘˜ëŸ¬ ì§„ì‹¤ì„ ë°í˜€ë‚´ì•¼ í•©ë‹ˆë‹¤!")
                print(f"{self.detective_name}: ì¢‹ì•„, ì´ë²ˆì—” ì˜ ì„ íƒí•´ë³´ì.\n")
                time.sleep(1)

    # ê²°ê³¼ì¶œë ¥
    def check_outcome(self):
        if self.match_clue(self.suspect): # ì •ë‹µ
            print("""
----------------------------------------------------------------------------------


     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—
    â–ˆâ–ˆâ•”â•â•â•â•â• â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•    â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘
    â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—      â–ˆâ–ˆâ•‘ â–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘
    â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•      â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘
    â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â•šâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘
     â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•šâ•â•     â•šâ•â•â•šâ•â•â•â•â•â•â•     â•šâ•â•â•â•šâ•â•â• â•šâ•â•â•šâ•â•  â•šâ•â•â•â•


----------------------------------------------------------------------------------""")
            time.sleep(1)
            print(f"###############################################")
            print(f"#######        ë‹¹ì‹ ì€ ì—­ì‹œ ëª…íƒì •!!         ")
            print(f"###############################################")
            time.sleep(1)
            print(f"\nì •ë‹µì…ë‹ˆë‹¤! ë²”ì¸ì€ ë°”ë¡œ {self.suspect.name}ì”¨ì˜€ìŠµë‹ˆë‹¤!")
            time.sleep(1)
            print(f"ë‹¹ì‹ ì˜ ì¶”ë¦¬ëŠ” ì™„ë²½í–ˆìŠµë‹ˆë‹¤, ì—­ì‹œ ëª…íƒì • {self.detective_name} ë‹µêµ°ìš”.")
            time.sleep(1)
            print(f"\n{self.detective_name}: ì™œ ë…¸íŠ¸ë¶ì„ ë§ê°€ëœ¨ë ¸ìŠµë‹ˆê¹Œ?? {self.victim.name}ì”¨ì˜ ë…¸íŠ¸ë¶ì„ ì™œ ê·¸ë ‡ê²Œ í–ˆì£ ?")
            time.sleep(1)
            print(f"{self.suspect.name}: ê·¸ê²Œ ì‚¬ì‹¤... {self.victim.name}ì”¨ì˜ íŒ€ì´ í•´ì»¤í†¤ ìš°ìŠ¹ì„ ëª»í•˜ê²Œ í•˜ë ¤ê³ ... ê·¸ë˜ì„œ í™§ê¹€ì—.. ì£„ì†¡í•©ë‹ˆë‹¤ğŸ¥¹")
            time.sleep(1)
            print(f"\n{self.suspect.name}ì”¨ëŠ” ëë‚´ ìì‹ ì˜ ë²”í–‰ì„ ì¸ì •í–ˆê³ , í”¼ë¡œê·¸ë˜ë° 22ê¸° í•´ì»¤í†¤ì—ì„œ í‡´ì¶œë‹¹í–ˆìŠµë‹ˆë‹¤.")
            time.sleep(1)
            print(f"ì‚¬ê±´ì€ í•´ê²°ë˜ì—ˆê³ , ëª¨ë“  ì‚¬ëŒë“¤ì´ ì•ˆë„ì˜ í•œìˆ¨ì„ ë‚´ì‰¬ì—ˆìŠµë‹ˆë‹¤. ë‹¹ì‹ ì˜ í™œì•½ ë•ë¶„ì…ë‹ˆë‹¤.")
            time.sleep(1)
            self.ask_restart()

        else: # ì‹¤íŒ¨ 1íšŒ
            self.lives -= 1
            if self.lives > 0:
                print(f"\n{self.suspect.name}: ë¬´ìŠ¨ ì†Œë¦¬ì•¼? ë‚´ ì¸ìƒì°©ì˜ë¥¼ ë´... ë‹¹ì‹  ëª…íƒì • ë§ì•„? ğŸ’¢ğŸ’¢ğŸ’¢")
                print(f"\ní‹€ë ¸ìŠµë‹ˆë‹¤... {self.suspect.name}ì”¨ëŠ” ë²”ì¸ì´ ì•„ë‹™ë‹ˆë‹¤. ë‚¨ì€ ê¸°íšŒëŠ” {self.lives}ë²ˆì…ë‹ˆë‹¤.")
                print(f"ì‹œê°„ì´ ì–¼ë§ˆ ë‚¨ì§€ ì•Šì•˜ì–´ìš”. ì‹ ì¤‘í•˜ê²Œ ì„ íƒí•´ì£¼ì„¸ìš”.")
                time.sleep(1)
                choice = self.prompt_choice("\nìš©ì˜ìë“¤ì˜ ì¸ìƒì°©ì˜ë¥¼ ë‹¤ì‹œ ë³´ê² ìŠµë‹ˆê¹Œ? (ë„¤/ì•„ë‹ˆì˜¤): ")
                if choice == 'ë„¤':
                    print(f"{self.detective_name}: ì¢‹ì•˜ì–´... ë‹¤ì‹œ ì°¨ê·¼ì°¨ê·¼ ë³´ì\n")
                    time.sleep(1)
                else:
                    self.accuse()  # ë‹¤ì‹œ ì§€ëª©í•  ê¸°íšŒë¥¼ ì¤Œ
            else: # GAMEOVER
                print(
                    """
----------------------------------------------------------------------------------


    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— 
    â–ˆâ–ˆâ•”â•â•â•â•â• â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•    â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
    â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—      â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
    â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•      â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
    â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘
    â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•šâ•â•     â•šâ•â•â•šâ•â•â•â•â•â•â•     â•šâ•â•â•â•â•â•   â•šâ•â•â•â•  â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•


----------------------------------------------------------------------------------"""
                )
                time.sleep(1)
                print(f"########################################")
                print(f"#######         ì¶”ë¦¬ ì‹¤íŒ¨......           ")
                print(f"########################################")
                time.sleep(1)
                print(f"\n{self.murderer.name}: ëª…íƒì • ë³„ê±° ì—†ë„¤~~~ í•´ì»¤í†¤ ìš°ìŠ¹ì€ ë‚´êº¼ë‹¤!!!")
                time.sleep(1)
                print(f"\nì•ˆíƒ€ê¹ìŠµë‹ˆë‹¤... ë²”ì¸ì€ {self.murderer.name}ì”¨ì˜€ìŠµë‹ˆë‹¤. ëª¨ë“  ê¸°íšŒë¥¼ ë‹¤ ì¨ë²„ë ¸ìŠµë‹ˆë‹¤.")
                time.sleep(1)
                print(f"ì¶”ë¦¬ëŠ” ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. {self.detective_name} íƒì •ë‹˜, ì´ë²ˆ ì‚¬ê±´ì€ ë‹¹ì‹ ì—ê²Œ í° ìƒì²˜ë¡œ ë‚¨ê²Œ ë  ê²ƒì…ë‹ˆë‹¤.")
                time.sleep(1)
                print(f"ë‹¹ì‹ ì€ ì´ ë¯¸ìŠ¤í„°ë¦¬ë¥¼ í’€ ê¸°íšŒë¥¼ ìƒì—ˆìŠµë‹ˆë‹¤...")
                time.sleep(1)
                print(f"í•˜ì§€ë§Œ, ì§„ì •í•œ íƒì •ì€ ì‹¤íŒ¨ì—ì„œë„ ë°°ì›ë‹ˆë‹¤. ë‹¤ìŒì—” ê¼­ ì§„ì‹¤ì„ ë°í˜€ë‚´ì„¸ìš”.")
                time.sleep(1)
                self.ask_restart()

    # ê²Œì„ì„ ë‹¤ì‹œ í•  ê±´ì§€ ë¬¼ì–´ë³´ëŠ” ë©”ì„œë“œ
    def ask_restart(self):
        choice = self.prompt_choice("ê²Œì„ì„ ë‹¤ì‹œ ì‹œì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (ë„¤/ì•„ë‹ˆì˜¤): ")
        if choice == 'ë„¤':
            print("----------------------------------------------------------------------------------\n")
            self.play()
        else:
            print("ê²Œì„ì„ ì¢…ë£Œí•©ë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤!")
            self.flag = False
            return
            
    # ë³€ìˆ˜ ì´ˆê¸°í™”
    def set_game(self):
        self.lives = 2 # ë‚¨ì€ ëª©ìˆ¨
        self.suspect = None # ìš©ì˜ì
        self.detective_name = input().strip() # íƒì 
        self.characters = self.characters_sample.copy() # ìºë¦­í„° ì¹´í”¼(ê²Œì„ ì¬ì‹œì‘ ì‹œ ì¬ì‚¬ìš©ì„ ìœ„í•´)
        self.victim = random.choice(self.characters) # í¬ìƒì
        self.characters.remove(self.victim)  # í¬ìƒì ìºë¦­í„° ëª©ë¡ì—ì„œ ì œê±°.
        self.murderer = random.choice(self.characters)  # ë²”ì¸ ì„ íƒ.
        self.flag = True # ê²Œì„ ì§„í–‰ boolean

    # ê²Œì„ í”Œë ˆì´!
    def play(self):
        self.show_intro()
        # ì¡°ì‚¬ ë‹¨ê³„ (ì¸ìƒì°©ì˜ë¥¼ ìˆ˜ì§‘, ë¬´ì œí•œ)
        while self.flag:
            self.investigate()
            if self.prompt_choice("\nê³„ì† ì¡°ì‚¬í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (ë„¤/ì•„ë‹ˆì˜¤): ") == 'ì•„ë‹ˆì˜¤':
                # ë²”ì¸ ì§€ëª© (ëª©ìˆ¨ 2ê°œ)    
                self.accuse()


# ê²Œì„ ì‹¤í–‰
if __name__ == "__main__":
    game = DetectiveGame()
    game.play()